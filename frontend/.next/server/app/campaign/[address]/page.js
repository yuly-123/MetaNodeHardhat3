(()=>{var e={};e.id=401,e.ids=[401],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},6113:e=>{"use strict";e.exports=require("crypto")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},6005:e=>{"use strict";e.exports=require("node:crypto")},9796:e=>{"use strict";e.exports=require("zlib")},3079:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>g,tree:()=>o});var s=a(482),r=a(9108),l=a(2563),i=a.n(l),n=a(8300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(t,d);let o=["",{children:["campaign",{children:["[address]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,300)),"E:\\vscode\\MetaNodeHardhat3\\frontend\\app\\campaign\\[address]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,5049)),"E:\\vscode\\MetaNodeHardhat3\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"]}],c=["E:\\vscode\\MetaNodeHardhat3\\frontend\\app\\campaign\\[address]\\page.tsx"],x="/campaign/[address]/page",m={require:a,loadChunk:()=>Promise.resolve()},g=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/campaign/[address]/page",pathname:"/campaign/[address]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7791:(e,t,a)=>{Promise.resolve().then(a.bind(a,9922))},9922:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var s=a(5344),r=a(3729),l=a(2254),i=a(3950),n=a(7813),d=a(4419),o=a(5656),c=a(8532),x=a(9224);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,x.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var g=a(4513),h=a(1960),u=a(2768),p=a(3658);function b({isOpen:e,onClose:t,contributors:a,loading:l=!1}){let[i,n]=(0,r.useState)(null);if(!e)return null;let d=e=>{navigator.clipboard.writeText(e),n(e),setTimeout(()=>n(null),2e3)},o=e=>{let t=`https://sepolia.etherscan.io/address/${e}`;window.open(t,"_blank")};return(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm animate-fade-in",onClick:t}),(0,s.jsxs)("div",{className:"relative bg-white dark:bg-slate-900 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] flex flex-col animate-scale-in border border-gray-200 dark:border-slate-700",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx(m,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"贡献者列表"}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["共 ",a.length," 位贡献者"]})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800",children:s.jsx(g.Z,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):0===a.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 mb-4",children:s.jsx(m,{className:"w-8 h-8 text-gray-400"})}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"暂无贡献者"})]}):s.jsx("div",{className:"space-y-3",children:a.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 hover:border-primary-300 dark:hover:border-primary-700 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white font-semibold",children:t+1}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsxs)("p",{className:"font-mono text-sm font-semibold text-gray-900 dark:text-white truncate",children:[e.address.slice(0,6),"...",e.address.slice(-4)]}),s.jsx("button",{onClick:()=>d(e.address),className:"p-1 text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",title:"复制地址",children:s.jsx(h.Z,{className:`w-4 h-4 ${i===e.address?"text-green-500":""}`})}),s.jsx("button",{onClick:()=>o(e.address),className:"p-1 text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",title:"在区块浏览器中查看",children:s.jsx(u.Z,{className:"w-4 h-4"})})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["完整地址: ",e.address]})]})]}),(0,s.jsxs)("div",{className:"flex-shrink-0 ml-4 text-right",children:[(0,s.jsxs)("p",{className:"text-lg font-bold text-primary-600 dark:text-primary-400",children:[p.dF(e.amount)," ETH"]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"贡献金额"})]})]},e.address))})}),s.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700",children:s.jsx("button",{onClick:t,className:"w-full px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-semibold transition-colors",children:"关闭"})})]})]})}var y=a(2739),f=a(5545),j=a(7060),N=a(3229);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let w=(0,x.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var k=a(9895);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let v=(0,x.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),C=(0,x.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Z=(0,x.Z)("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);var P=a(5313);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let E=(0,x.Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var H=a(6958);function S(){let e=(0,l.useParams)(),t=(0,l.useRouter)(),x=e.address,{account:m,signer:h,provider:u}=(0,i.$)(),{campaign:S,loading:_,refresh:F,setUserInteracting:q}=function(e){let{provider:t,account:a}=(0,i.$)(),[s,l]=(0,r.useState)(null),[o,c]=(0,r.useState)(!0),[x,m]=(0,r.useState)(!1),g=(0,r.useCallback)(async()=>{if(!t||!e){c(!1);return}try{x||c(!0);let s=new n.CH(e,d.CrowdfundingCampaignABI,t),[r,i,o,m,g,h,u,p]=await Promise.all([s.owner(),s.name(),s.goal(),s.deadline(),s.totalRaised(),s.state(),s.getContributorCount(),a?s.contributions(a).catch(()=>0n):Promise.resolve(0n)]);l({address:e,owner:r,name:i,goal:o,totalRaised:g,deadline:m,state:Number(h),contributorCount:Number(u),userContribution:p})}catch(e){console.error("Error fetching campaign:",e),l(null)}finally{c(!1)}},[t,e,a,x]);return(0,r.useEffect)(()=>{g()},[g]),{campaign:s,loading:o,refresh:g,setUserInteracting:(0,r.useCallback)(e=>{m(e)},[])}}(x),{showSuccess:T,showError:M,showWarning:A,showInfo:R}=(0,o.useAlert)(),[$,z]=(0,r.useState)(""),[I,D]=(0,r.useState)(!1),[G,B]=(0,r.useState)(!1),[O,U]=(0,r.useState)(!1),[L,Q]=(0,r.useState)(!1),[J,W]=(0,r.useState)(!1),[X,Y]=(0,r.useState)([]),[K,V]=(0,r.useState)(!1),ee=async()=>{if(!m){A("请先连接钱包！","提示");return}if(!$){A("请输入贡献金额","提示");return}let e=parseFloat($);if(e<=0||isNaN(e)){A("贡献金额必须大于 0","提示");return}let t=h;if(!t&&m&&u)try{t=await u.getSigner(),console.log("✅ Signer retrieved successfully")}catch(e){console.error("Failed to get signer:",e),M("无法获取签名器，请重新连接钱包","错误");return}if(!t){M("无法获取签名器，请重新连接钱包","错误");return}try{D(!0),q(!0),console.log("Contributing:",{amount:e,address:x});let{CrowdfundingCampaignABI:s}=await Promise.resolve().then(a.bind(a,4419)),r=new n.CH(x,s,t),l=p.fi($);console.log("Sending transaction with value:",l.toString());let i=await r.contribute({value:l});console.log("Transaction sent:",i.hash),console.log("Waiting for confirmation...");let d=await i.wait();console.log("Transaction confirmed:",d),T(`贡献成功！交易哈希: ${i.hash}`,"成功",5e3),z(""),await F(),q(!1)}catch(t){console.error("Contribution error:",t);let e="贡献失败";"ACTION_REJECTED"===t.code?e="用户取消了交易":"INSUFFICIENT_FUNDS"===t.code?e="余额不足，请确保账户有足够的 ETH":t.reason?e=t.reason:t.message&&(e=t.message),M(e,"贡献失败"),q(!1)}finally{D(!1)}},et=async()=>{if(h)try{B(!0),q(!0);let{CrowdfundingCampaignABI:e}=await Promise.resolve().then(a.bind(a,4419)),t=new n.CH(x,e,h),s=await t.withdraw();await s.wait(),await F(),q(!1),T("资金提取成功！","成功")}catch(e){M(e.message||"提取失败","错误"),q(!1)}finally{B(!1)}},ea=async()=>{if(h)try{U(!0),q(!0);let{CrowdfundingCampaignABI:e}=await Promise.resolve().then(a.bind(a,4419)),t=new n.CH(x,e,h),s=await t.refund();await s.wait(),await F(),q(!1),T("退款成功！","成功")}catch(e){M(e.message||"退款失败","错误"),q(!1)}finally{U(!1)}},es=async()=>{if(h)try{Q(!0),q(!0);let{CrowdfundingCampaignABI:e}=await Promise.resolve().then(a.bind(a,4419)),t=new n.CH(x,e,h),s=await t.start();await s.wait(),await F(),q(!1),T("活动启动成功！","成功")}catch(e){M(e.message||"启动失败","错误"),q(!1)}finally{Q(!1)}},er=async()=>{if(u&&x)try{V(!0);let e=new n.CH(x,d.CrowdfundingCampaignABI,u),t=(await e.getContributors()).map(async t=>{let a=await e.contributions(t);return{address:t,amount:a}}),a=await Promise.all(t);a.sort((e,t)=>e.amount>t.amount?-1:e.amount<t.amount?1:0),Y(a)}catch(e){console.error("Error fetching contributors:",e),M("获取贡献者列表失败","错误")}finally{V(!1)}};if(_)return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[s.jsx(c.Z,{}),s.jsx("div",{className:"flex justify-center items-center py-20",children:s.jsx(y.Z,{className:"w-8 h-8 animate-spin text-primary-600"})})]});if(!S)return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[s.jsx(c.Z,{}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:"Campaign not found"})})]});let el=S.goal>0?Math.min(Number(S.totalRaised)/Number(S.goal)*100,100):0,ei=new Date(1e3*Number(S.deadline))<new Date,en=S.owner.toLowerCase()===m?.toLowerCase(),ed=0===S.state&&en,eo=1===S.state&&!ei&&m,ec=2===S.state&&en,ex=3===S.state&&m&&Number(S.userContribution)>0,em=[f.Z,f.Z,j.Z,N.Z,j.Z][S.state]||f.Z;return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[s.jsx(c.Z,{}),(0,s.jsxs)("main",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,s.jsxs)("button",{onClick:()=>t.back(),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors",children:[s.jsx(w,{className:"w-5 h-5"}),"Back to campaigns"]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 mb-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(em,{className:`w-6 h-6 ${2===S.state?"text-green-500":3===S.state?"text-red-500":"text-blue-500"}`}),s.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:["准备中","进行中","成功","失败","已关闭"][S.state]})]}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:S.name}),(0,s.jsxs)("p",{className:"text-sm font-mono text-gray-500 dark:text-gray-400",children:[x.slice(0,8),"...",x.slice(-6)]})]})}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Progress"}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[el.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:s.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all duration-300",style:{width:`${el}%`}})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Raised"}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[p.dF(S.totalRaised)," ETH"]})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Goal"}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[p.dF(S.goal)," ETH"]})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Contributors"}),(0,s.jsxs)("button",{onClick:()=>{W(!0),er()},className:"group flex items-center gap-2 text-lg font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-all cursor-pointer",title:"点击查看贡献者列表",children:[s.jsx(k.Z,{className:"w-5 h-5"}),s.jsx("span",{className:"underline decoration-2 underline-offset-2 group-hover:decoration-primary-400",children:S.contributorCount}),s.jsx(v,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Deadline"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(0,H.Q)(new Date(1e3*Number(S.deadline)),{addSuffix:!0})})]})]})]}),m&&(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:en?"创建者操作":"参与筹款"}),ed&&(0,s.jsxs)("div",{className:"mb-4 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[(0,s.jsxs)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 mb-3 flex items-center gap-2",children:[s.jsx(C,{className:"w-4 h-4"}),"活动处于准备中状态，需要先启动活动才能接受筹款"]}),s.jsx("button",{onClick:es,disabled:L,className:"w-full px-6 py-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:L?s.jsx(y.Z,{className:"w-5 h-5 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(Z,{className:"w-5 h-5"}),"启动活动"]})})]}),eo&&(0,s.jsxs)("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 flex items-center gap-2",children:[s.jsx(P.Z,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),"参与筹款"]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"输入您想要贡献的 ETH 金额，支持这个项目！"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",step:"0.01",min:"0.01",value:$,onChange:e=>{z(e.target.value),q(!0)},onFocus:()=>{q(!0)},onBlur:()=>{q(!1)},className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-slate-700 dark:text-white text-lg",placeholder:"0.1"}),s.jsx("button",{onClick:ee,disabled:!$||0>=parseFloat($)||I,className:"px-8 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:I?(0,s.jsxs)(s.Fragment,{children:[s.jsx(y.Z,{className:"w-5 h-5 animate-spin"}),"处理中..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(E,{className:"w-5 h-5"}),"确认贡献"]})})]}),Number(S.userContribution)>0&&(0,s.jsxs)("p",{className:"text-sm text-blue-600 dark:text-blue-400 mt-3",children:["您已贡献: ",p.dF(S.userContribution)," ETH"]})]}),0===S.state&&!en&&s.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[s.jsx(f.Z,{className:"w-4 h-4"}),"活动尚未启动，请等待创建者启动活动后才能参与筹款"]})}),ec&&(0,s.jsxs)("div",{className:"mb-4 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[(0,s.jsxs)("p",{className:"text-sm text-green-800 dark:text-green-200 mb-3 flex items-center gap-2",children:[s.jsx(E,{className:"w-4 h-4"}),"活动已成功达到目标！您可以提取资金了"]}),s.jsx("button",{onClick:et,disabled:G,className:"w-full px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:G?s.jsx(y.Z,{className:"w-5 h-5 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(P.Z,{className:"w-5 h-5"}),"提取资金"]})})]}),ex&&(0,s.jsxs)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[(0,s.jsxs)("p",{className:"text-sm text-red-800 dark:text-red-200 mb-3 flex items-center gap-2",children:[s.jsx(g.Z,{className:"w-4 h-4"}),"活动未达到目标，您可以申请退款"]}),s.jsx("button",{onClick:ea,disabled:O,className:"w-full px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:O?s.jsx(y.Z,{className:"w-5 h-5 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(P.Z,{className:"w-5 h-5"}),"退款 ",p.dF(S.userContribution)," ETH"]})})]}),Number(S.userContribution)>0&&s.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Your contribution: ",(0,s.jsxs)("span",{className:"font-semibold",children:[p.dF(S.userContribution)," ETH"]})]})})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Campaign Information"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Owner"}),(0,s.jsxs)("span",{className:"text-gray-900 dark:text-white font-mono text-sm",children:[S.owner.slice(0,6),"...",S.owner.slice(-4)]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Campaign Address"}),(0,s.jsxs)("span",{className:"text-gray-900 dark:text-white font-mono text-sm",children:[x.slice(0,6),"...",x.slice(-4)]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Created"}),s.jsx("span",{className:"text-gray-900 dark:text-white",children:(0,H.Q)(new Date(1e3*Number(S.deadline)-6048e5),{addSuffix:!0})})]})]})]})]}),s.jsx(b,{isOpen:J,onClose:()=>W(!1),contributors:X,loading:K})]})}},2254:(e,t,a)=>{e.exports=a(4767)},300:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let s=(0,a(6843).createProxy)(String.raw`E:\vscode\MetaNodeHardhat3\frontend\app\campaign\[address]\page.tsx`),{__esModule:r,$$typeof:l}=s,i=s.default}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[458,429,667,941],()=>a(3079));module.exports=s})();